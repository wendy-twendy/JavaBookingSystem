<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.geometry.Insets?>
<?import javafx.scene.control.Button?>
<?import javafx.scene.control.ComboBox?>
<?import javafx.scene.control.Label?>
<?import javafx.scene.control.TableColumn?>
<?import javafx.scene.control.TableView?>
<?import javafx.scene.layout.BorderPane?>
<?import javafx.scene.layout.HBox?>
<?import javafx.scene.layout.VBox?>

<BorderPane xmlns="http://javafx.com/javafx/17"
            xmlns:fx="http://javafx.com/fxml/1"
            fx:controller="com.example.hotel.gui.controllers.BookingListController"
            styleClass="main-container">

    <!-- Header -->
    <top>
        <VBox styleClass="header-container" alignment="CENTER">
            <HBox alignment="CENTER_LEFT" spacing="20">
                <Button text="Back to Dashboard" styleClass="button, button-secondary"
                        onAction="#handleBack"/>
                <Label text="Booking List" styleClass="header-label" HBox.hgrow="ALWAYS"/>
            </HBox>
        </VBox>
    </top>

    <!-- Center Content -->
    <center>
        <VBox spacing="15">
            <padding>
                <Insets top="20" right="20" bottom="20" left="20"/>
            </padding>

            <!-- Action Bar -->
            <HBox spacing="15" alignment="CENTER_LEFT">
                <!-- Action Buttons -->
                <Button text="New Booking" styleClass="button, button-success"
                        onAction="#handleNewBooking"/>
                <Button fx:id="viewInvoiceBtn" text="View Invoice" styleClass="button, button-primary"
                        onAction="#handleViewInvoice" disable="true"/>
                <Button fx:id="cancelBtn" text="Cancel Booking" styleClass="button, button-danger"
                        onAction="#handleCancelBooking" disable="true"/>
                <Button fx:id="completeBtn" text="Complete Booking" styleClass="button, button-warning"
                        onAction="#handleCompleteBooking" disable="true"/>

                <!-- Spacer -->
                <HBox HBox.hgrow="ALWAYS"/>

                <!-- Status Filter -->
                <Label text="Status:"/>
                <ComboBox fx:id="statusFilter" promptText="All" prefWidth="150"/>
                <Button text="Refresh" styleClass="button, button-secondary"
                        onAction="#handleRefresh"/>
            </HBox>

            <!-- Bookings Table -->
            <TableView fx:id="bookingTable" VBox.vgrow="ALWAYS">
                <columns>
                    <TableColumn fx:id="colBookingId" text="Booking ID" prefWidth="120"/>
                    <TableColumn fx:id="colGuestName" text="Guest Name" prefWidth="150"/>
                    <TableColumn fx:id="colRoom" text="Room" prefWidth="80"/>
                    <TableColumn fx:id="colCheckIn" text="Check-in" prefWidth="100"/>
                    <TableColumn fx:id="colCheckOut" text="Check-out" prefWidth="100"/>
                    <TableColumn fx:id="colTotal" text="Total" prefWidth="100"/>
                    <TableColumn fx:id="colStatus" text="Status" prefWidth="100"/>
                    <TableColumn fx:id="colRefund" text="Refund" prefWidth="100"/>
                </columns>
            </TableView>
        </VBox>
    </center>

    <!-- Footer -->
    <bottom>
        <HBox styleClass="footer-container" alignment="CENTER_LEFT" spacing="20">
            <Label fx:id="statusLabel" text="Ready" styleClass="status-bar"/>
            <HBox HBox.hgrow="ALWAYS"/>
            <Label fx:id="bookingCountLabel" text="0 bookings"/>
        </HBox>
    </bottom>
</BorderPane>
